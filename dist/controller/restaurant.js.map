{"version":3,"sources":["../../src/controller/restaurant.js"],"names":["config","api","post","req","res","newRest","name","body","save","err","send","json","message","get","find","restModel","restaurants"],"mappings":";;;;;;AAAA;;AACA;;;;;;kBAEc,UAACA,MAAD,EAAY;AACxB,MAAIC,MAAM,sBAAV;;AAEA;AACAA,MAAIC,IAAJ,CAAS,MAAT,EAAiB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC7B,QAAIC,UAAU,0BAAd;AACAA,YAAQC,IAAR,GAAeH,IAAII,IAAJ,CAASD,IAAxB;;AAEAD,YAAQG,IAAR,CAAa,eAAO;AAClB,UAAIC,GAAJ,EAAS;AACPL,YAAIM,IAAJ,CAASD,GAAT;AACD;AACDL,UAAIO,IAAJ,CAAS,EAACC,SAAS,+BAAV,EAAT;AACD,KALD;AAMD,GAVD;;AAYA;AACAX,MAAIY,GAAJ,CAAQ,GAAR,EAAa,UAACV,GAAD,EAAMC,GAAN,EAAc;AACzB,yBAAWU,IAAX,CAAgBC,SAAhB,EAA2B,UAACN,GAAD,EAAMO,WAAN,EAAsB;AAC/C,UAAIP,GAAJ,EAAS;AACPL,YAAIM,IAAJ,CAASD,GAAT;AACD;AACDL,UAAIO,IAAJ,CAASK,WAAT;AACD,KALD;AAMD,GAPD;;AASA,SAAOf,GAAP;AACD,C","file":"restaurant.js","sourcesContent":["import {Router} from 'express';\r\nimport Restaurant from '../model/restaurant';\r\n\r\nexport default(config) => {\r\n  let api = Router();\r\n\r\n  // '/v1/restaurant/add' - Create\r\n  api.post('/add', (req, res) => {\r\n    let newRest = new Restaurant();\r\n    newRest.name = req.body.name;\r\n\r\n    newRest.save(err => {\r\n      if (err) {\r\n        res.send(err);\r\n      }\r\n      res.json({message: 'Restaurant saved successfully'});\r\n    });\r\n  });\r\n\r\n  // '/v1/restaurant/add' - Read\r\n  api.get('/', (req, res) => {\r\n    Restaurant.find(restModel, (err, restaurants) => {\r\n      if (err) {\r\n        res.send(err);\r\n      }\r\n      res.json(restaurants);\r\n    });\r\n  });\r\n\r\n  return api;\r\n}\r\n"]}